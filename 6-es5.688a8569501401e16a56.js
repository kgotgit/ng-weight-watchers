function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"99Un":function(e,t,n){"use strict";n.r(t);var i,c=n("ofXK"),o=n("tyNb"),r=n("jmay"),a=n("3E0/"),s=n("1G5W"),l=n("lJxs"),d=n("vkgz"),u=n("fXoL"),f=n("bTjD"),p=n("Wp6s"),b=n("bTqV"),h=((i=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).weight=0,e.cardClicked=new u.o,e.deleteClicked=new u.o,e}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.cardClicked.emit(this.id)}},{key:"onDelete",value:function(){this.deleteClicked.emit(this.id)}}]),t}(r.a)).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Ib({type:i,selectors:[["app-name-weight-card"]],inputs:{name:"name",weight:"weight",id:"id",userName:"userName"},outputs:{cardClicked:"cardClicked",deleteClicked:"deleteClicked"},features:[u.zb],decls:10,vars:2,consts:[["mat-raised-button","","color","primary",3,"click"],[1,"suffix"],["mat-button","","color","warn","title","Delete. Click Here",1,"delete-icon",3,"click"],[1,"material-icons"]],template:function(e,t){1&e&&(u.Ub(0,"mat-card"),u.Ub(1,"button",0),u.cc("click",(function(e){return t.onClick()})),u.zc(2),u.Tb(),u.Ub(3,"h1"),u.zc(4),u.Ub(5,"span",1),u.zc(6,"lbs"),u.Tb(),u.Tb(),u.Ub(7,"button",2),u.cc("click",(function(e){return t.onDelete()})),u.Ub(8,"span",3),u.zc(9,"delete_forever"),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(2),u.Ac(t.name),u.Cb(2),u.Bc("",t.weight," "))},directives:[p.a,b.a],styles:[".mat-card[_ngcontent-%COMP%]{width:300px;text-align:center;margin:auto auto 30px}.mat-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{padding:.25rem;font-size:18px}.mat-card[_ngcontent-%COMP%]   button.delete-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]}),i),C=n("FALD");function g(e,t){if(1&e){var n=u.Vb();u.Sb(0),u.Ub(1,"app-name-weight-card",4),u.cc("cardClicked",(function(e){return u.sc(n),u.gc(2).cardClicked(e)}))("deleteClicked",(function(e){return u.sc(n),u.gc(2).deleteClicked(e)})),u.Tb(),u.Rb()}if(2&e){var i=t.$implicit;u.Cb(1),u.lc("name",i.name)("weight",i.weight)("id",i.id)}}function m(e,t){if(1&e){var n=u.Vb();u.Ub(0,"mat-card"),u.Ub(1,"button",1),u.cc("click",(function(e){return u.sc(n),u.gc().addFriend()})),u.Ub(2,"span",2),u.zc(3,"person_add"),u.Tb(),u.Tb(),u.yc(4,g,2,3,"ng-container",3),u.hc(5,"async"),u.Tb()}if(2&e){var i=u.gc();u.Cb(4),u.lc("ngForOf",u.ic(5,2,i._users$))("ngForTrackby",i.trackByid)}}function _(e,t){if(1&e){var n=u.Vb();u.Ub(0,"mat-card"),u.Ub(1,"app-profile-form",5),u.cc("dataChanged",(function(e){return u.sc(n),u.gc().dataChanged(e)}))("onCancelClicked",(function(e){return u.sc(n),u.gc().onCancelClicked(e)})),u.Tb(),u.Tb()}if(2&e){var i=u.gc();u.Cb(1),u.lc("personDetails",i._addNewPersonDetails)}}var y,k,O=[{path:"",component:(y=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).router=e,i.personDetailsService=n,i._mode="home",i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.loadUsersFromSesssion()}},{key:"loadUsersFromSesssion",value:function(){this._users$=this._storageService.getUsersFromSession().pipe(Object(a.a)(0),Object(s.a)(this._destroy$))}},{key:"trackByid",value:function(e,t){return t.id}},{key:"cardClicked",value:function(e){this.router.navigateByUrl("pages/dashboard/"+e)}},{key:"deleteClicked",value:function(e){this._users$=this.personDetailsService.deleteById(e).pipe(Object(a.a)(0),Object(s.a)(this._destroy$),Object(l.a)((function(e){return console.log(e),e})))}},{key:"addFriend",value:function(){this._addNewPersonDetails=new Object,this._addNewPersonDetails.id=this.getUniqueId(),this._addNewPersonDetails.history=new Array,this._mode="addFriend"}},{key:"dataChanged",value:function(e){var t=this;this._addNewPersonDetails=e,this.personDetailsService.saveChanges(e).pipe(Object(a.a)(0),Object(l.a)((function(e){return e})),Object(d.a)((function(e){t.loadUsersFromSesssion()}))).subscribe(),this._mode="home"}},{key:"getUniqueId",value:function(){return Math.floor(0*Math.random())+1e4}},{key:"onCancelClicked",value:function(e){this._mode="home",this._addNewPersonDetails=null}}]),t}(r.a),y.\u0275fac=function(e){return new(e||y)(u.Ob(o.b),u.Ob(f.a))},y.\u0275cmp=u.Ib({type:y,selectors:[["app-home"]],features:[u.zb],decls:2,vars:2,consts:[[4,"ngIf"],["mat-button","","color","accent","title","Add new friend. Click Here",1,"add-person-icon",3,"click"],[1,"material-icons"],[4,"ngFor","ngForOf","ngForTrackby"],[3,"name","weight","id","cardClicked","deleteClicked"],["mode","add",3,"personDetails","dataChanged","onCancelClicked"]],template:function(e,t){1&e&&(u.yc(0,m,6,4,"mat-card",0),u.yc(1,_,2,1,"mat-card",0)),2&e&&(u.lc("ngIf","home"==t._mode),u.Cb(1),u.lc("ngIf","addFriend"==t._mode))},directives:[c.l,p.a,b.a,c.k,h,C.a],pipes:[c.b],styles:[".mat-card[_ngcontent-%COMP%]{padding:1em}.mat-card[_ngcontent-%COMP%]   button.add-person-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.mat-card[_ngcontent-%COMP%]   button.add-person-icon[_ngcontent-%COMP%]   span.material-icons[_ngcontent-%COMP%]{font-size:34px}"]}),y),canActivate:[n("Y/0F").a]}],v=((k=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:k}),k.\u0275inj=u.Lb({factory:function(e){return new(e||k)},imports:[[o.c.forChild(O)],o.c]}),k),w=n("hB0V"),P=n("pKmL");n.d(t,"HomeModule",(function(){return T}));var j,T=((j=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:j}),j.\u0275inj=u.Lb({factory:function(e){return new(e||j)},imports:[[c.c,v,w.a,P.a,o.c]]}),j)}}]);