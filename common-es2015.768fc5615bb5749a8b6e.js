(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{FALD:function(e,t,r){"use strict";var i=r("fXoL"),a=r("3Pt+");let n=(()=>{class e{constructor(){}validate(t){return e.validateNumbersOnly(t)}registerOnValidatorChange(e){return null}static validateNumbersOnly(e){let t=e.value;return t&&0!=t.length?new RegExp(/^[+ 0-9]/).test(t)?null:{numbersonly:"Only numbers are allowed"}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Jb({type:e,selectors:[["","appNumbersonly",""]],features:[i.Bb([{provide:a.h,useExisting:e}])]}),e})();var l=r("jmay");let o=(()=>{class e{constructor(){}validate(t){return e.validateUsername(t)}registerOnValidatorChange(e){return null}static validateUsername(e){let t=e.value;return t&&0!=t.length?new RegExp(/^[a-zA-Z0-9]+(?:[_]?[a-zA-Z0-9])*$/).test(t)?null:{notvaliduser:"PLease enter a valid username"}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Jb({type:e,selectors:[["","appValidUsername",""]],features:[i.Bb([{provide:a.h,useExisting:e}])]}),e})();var s=r("jhN1"),c=r("ofXK"),d=r("Wp6s"),u=r("kmnG"),b=r("qFsG"),m=r("bTqV");function h(e,t){if(1&e){const e=i.Vb();i.Ub(0,"button",20),i.cc("click",(function(t){return i.sc(e),i.gc(),i.qc(11).click()})),i.zc(1,"Upload"),i.Tb()}}function p(e,t){if(1&e&&i.Pb(0,"img",21),2&e){const e=i.gc();i.lc("src",e._imgSrc,i.tc)}}function f(e,t){if(1&e){const e=i.Vb();i.Ub(0,"button",22),i.cc("click",(function(t){return i.sc(e),i.gc(),i.qc(11).click()})),i.Ub(1,"span",23),i.zc(2,"edit"),i.Tb(),i.Tb()}if(2&e){const e=i.gc();i.lc("disabled",e._editProfilePic)}}function g(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," name is required. "),i.Tb())}function v(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Weight is required. "),i.Tb())}function U(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Only Numbers are allowed "),i.Tb())}function _(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Age is required. "),i.Tb())}function y(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Only Numbers are allowed "),i.Tb())}function C(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Username is required. "),i.Tb())}function w(e,t){1&e&&(i.Ub(0,"mat-error"),i.zc(1," Enter valid username "),i.Tb())}function F(e,t){if(1&e&&(i.Ub(0,"div"),i.Ub(1,"mat-form-field",10),i.Ub(2,"mat-label"),i.zc(3,"Username"),i.Tb(),i.Pb(4,"input",24),i.Tb(),i.yc(5,C,2,0,"mat-error",12),i.yc(6,w,2,0,"mat-error",12),i.Tb()),2&e){const e=i.gc();i.Cb(5),i.lc("ngIf",null==e.formControl?null:null==e.formControl.username?null:e.formControl.username.hasError("required")),i.Cb(1),i.lc("ngIf",null==e.formControl?null:null==e.formControl.username?null:e.formControl.username.hasError("notvaliduser"))}}function D(e,t){if(1&e){const e=i.Vb();i.Ub(0,"button",25),i.cc("click",(function(t){return i.sc(e),i.gc().onEdit()})),i.zc(1,"Edit"),i.Tb()}if(2&e){const e=i.gc();i.lc("disabled",e._profileForm.invalid)}}function T(e,t){if(1&e){const e=i.Vb();i.Ub(0,"button",26),i.cc("click",(function(t){return i.sc(e),i.gc().onSave()})),i.zc(1,"Save"),i.Tb()}if(2&e){const e=i.gc();i.lc("disabled",e._profileForm.invalid)}}function k(e,t){if(1&e){const e=i.Vb();i.Ub(0,"button",27),i.cc("click",(function(t){return i.sc(e),i.gc().onCancel()})),i.zc(1,"Cancel"),i.Tb()}}r.d(t,"a",(function(){return I}));let I=(()=>{class e extends l.a{constructor(e,t,r){super(),this.fb=e,this.domSanitzer=t,this.datePipe=r,this.mode="edit",this.dataChanged=new i.o,this.onCancelClicked=new i.o,this._editProfilePic=null}set personDetails(e){this._personDetails=e,this.updateFormGroup()}ngOnInit(){this.createFormGroup()}createFormGroup(){this._profileForm=this.fb.group({name:new a.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.name)?this.personDetails.name:"",disabled:this.checkForMode()},[a.p.required,a.p.maxLength(100)]),age:new a.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.age)?this.personDetails.age:"",disabled:this.checkForMode()},[a.p.required,n.validateNumbersOnly,a.p.maxLength(3)]),weight:new a.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.weight)?this.personDetails.weight:"",disabled:this.checkForMode()},[a.p.required,n.validateNumbersOnly,a.p.maxLength(3)]),lastUpdated:new a.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.lastUpdated)?this.personDetails.lastUpdated:"",disabled:!0},[]),imgSrc:new a.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.imgSrc)?this.personDetails.imgSrc:"",disabled:!1},[])}),"add"===this.mode&&this._profileForm.addControl("username",new a.d({value:"",disabled:!1},[o.validateUsername,a.p.required]))}updateFormGroup(){this.hasValue(this._personDetails)&&this.hasValue(this._profileForm)&&(this._profileForm.controls.name.setValue(this._personDetails.name),this._profileForm.controls.age.setValue(this._personDetails.age),this._profileForm.controls.weight.setValue(this._personDetails.weight),this._profileForm.controls.lastUpdated.setValue(this._personDetails.lastUpdated),this._imgSrc=this._personDetails.imgSrc+"",this._imgSrc&&(this._editProfilePic="disabled"))}get formControl(){return this._profileForm.controls}checkForMode(){return"readonly"===this.mode}onFileInput(e){if(e.target.files.length>0){let t=new FileReader;const[r]=e.target.files;t.readAsDataURL(r),t.onload=()=>{this._imgSrc=t.result;let e=this._imgSrc.repeat(1);this._personDetails.imgSrc=e}}}onEdit(){this.mode="edit",this.changeFieldState()}onSave(){this.changeFieldState(),this._personDetails.name=this._profileForm.controls.name.value,this._personDetails.age=this._profileForm.controls.age.value;let e=this._profileForm.controls.weight.value;if(e!=this._personDetails.weight){let t=this.datePipe.transform(new Date,"MM/dd/yyyy"),r=new Object;r.weight=e,r.lastUpdated=t,this._profileForm.controls.lastUpdated.setValue(t),this._personDetails.weight=e,this._personDetails.lastUpdated=t;let i=this.isValidArrayWithData(this._personDetails.history)?this._personDetails.history:new Array,a=i.filter(e=>e.lastUpdated===t);this.isValidArrayWithData(a)?a[0].weight=e:i.push(r)}"add"===this.mode&&(this._personDetails.username=this._profileForm.controls.username.value),this.dataChanged.emit(this._personDetails),this.mode="readonly"}changeFieldState(){switch(this.mode){case"edit":this.enableOrDisableFormFields(!1);break;case"readonly":this.enableOrDisableFormFields(!0);break;case"add":this.enableOrDisableFormFields(!1)}}enableOrDisableFormFields(e){e?this._profileForm.controls.name.disable():this._profileForm.controls.name.enable(),e?this._profileForm.controls.age.disable():this._profileForm.controls.age.enable(),e?this._profileForm.controls.weight.disable():this._profileForm.controls.weight.enable(),this._editProfilePic=e?"disabled":null}onCancel(){this.onCancelClicked.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i.Ob(a.c),i.Ob(s.b),i.Ob(c.e))},e.\u0275cmp=i.Ib({type:e,selectors:[["app-profile-form"]],inputs:{mode:"mode",personDetails:"personDetails"},outputs:{dataChanged:"dataChanged",onCancelClicked:"onCancelClicked"},features:[i.zb],decls:46,vars:13,consts:[["color","primary"],[3,"formGroup"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["type","file","single","","accept","image/jpeg, .jpeg, image/png, .png, image/jpg,.jpg",2,"display","none",3,"change"],["fileInput",""],["id","image","height","200",3,"src",4,"ngIf"],["mat-button","","color","accent","title","Edit Profile Picture",3,"disabled","click",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","name","required","","aria-label","Name","maxlength","100"],[4,"ngIf"],["matInput","","formControlName","weight","required","","aria-label","Weight","maxlength","3"],["matInput","","formControlName","age","required","","aria-label","Age","maxlength","3"],["matInput","","formControlName","lastUpdated","readonly","","aria-label","Last Updated"],[1,"pull-right"],["mat-raised-button","","color","accent","id","edit-btn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","id","save-btn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","id","cancel-btn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["id","image","height","200",3,"src"],["mat-button","","color","accent","title","Edit Profile Picture",3,"disabled","click"],[1,"material-icons"],["matInput","","formControlName","username","required","","aria-label","Username","maxlength","30"],["mat-raised-button","","color","accent","id","edit-btn",3,"disabled","click"],["mat-raised-button","","color","primary","id","save-btn",3,"disabled","click"],["mat-raised-button","","color","primary","id","cancel-btn",3,"click"]],template:function(e,t){1&e&&(i.Ub(0,"mat-card"),i.Ub(1,"mat-card-header"),i.Ub(2,"mat-card-title",0),i.zc(3,"Profile"),i.Tb(),i.Tb(),i.Ub(4,"mat-card-content"),i.Ub(5,"form",1),i.Ub(6,"div",2),i.Ub(7,"div",3),i.Ub(8,"div",4),i.yc(9,h,2,0,"button",5),i.Ub(10,"input",6,7),i.cc("change",(function(e){return t.onFileInput(e)})),i.Tb(),i.yc(12,p,1,1,"img",8),i.yc(13,f,3,1,"button",9),i.Tb(),i.Ub(14,"div",4),i.Ub(15,"div"),i.Ub(16,"mat-form-field",10),i.Ub(17,"mat-label"),i.zc(18,"Name"),i.Tb(),i.Pb(19,"input",11),i.yc(20,g,2,0,"mat-error",12),i.Tb(),i.Tb(),i.Ub(21,"div"),i.Ub(22,"mat-form-field",10),i.Ub(23,"mat-label"),i.zc(24,"Weight"),i.Tb(),i.Pb(25,"input",13),i.yc(26,v,2,0,"mat-error",12),i.yc(27,U,2,0,"mat-error",12),i.Tb(),i.Tb(),i.Ub(28,"div"),i.Ub(29,"mat-form-field",10),i.Ub(30,"mat-label"),i.zc(31,"Age"),i.Tb(),i.Pb(32,"input",14),i.yc(33,_,2,0,"mat-error",12),i.yc(34,y,2,0,"mat-error",12),i.Tb(),i.Tb(),i.yc(35,F,7,2,"div",12),i.Ub(36,"div"),i.Ub(37,"mat-form-field",10),i.Ub(38,"mat-label"),i.zc(39,"Last Updated"),i.Tb(),i.Pb(40,"input",15),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(41,"mat-card-actions"),i.Ub(42,"div",16),i.yc(43,D,2,1,"button",17),i.yc(44,T,2,1,"button",18),i.yc(45,k,2,0,"button",19),i.Tb(),i.Tb(),i.Tb()),2&e&&(i.Cb(5),i.lc("formGroup",t._profileForm),i.Cb(4),i.lc("ngIf",!t._imgSrc),i.Cb(3),i.lc("ngIf",t._imgSrc),i.Cb(1),i.lc("ngIf",t._imgSrc),i.Cb(7),i.lc("ngIf",t.formControl.name.hasError("required")),i.Cb(6),i.lc("ngIf",t.formControl.weight.hasError("required")),i.Cb(1),i.lc("ngIf",t.formControl.weight.hasError("numbersonly")),i.Cb(6),i.lc("ngIf",t.formControl.age.hasError("required")),i.Cb(1),i.lc("ngIf",t.formControl.age.hasError("numbersonly")),i.Cb(1),i.lc("ngIf","add"==t.mode),i.Cb(8),i.lc("ngIf","readonly"===t.mode),i.Cb(1),i.lc("ngIf","readonly"!=t.mode),i.Cb(1),i.lc("ngIf","add"===t.mode))},directives:[d.a,d.d,d.g,d.c,a.q,a.l,a.f,c.l,u.b,u.e,b.b,a.b,a.k,a.e,a.o,a.g,d.b,m.a,u.a],styles:[".full-width[_ngcontent-%COMP%]{width:300px}.pull-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:.25em}.mat-card-actions[_ngcontent-%COMP%]{min-height:40px}"]}),e})()},"Y/0F":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r("fXoL"),a=r("MFIp"),n=r("tyNb");let l=(()=>{class e{constructor(e,t){this.storageService=e,this.router=t}canActivate(){return this.storageService.isUserLoggedIn()?(this.storageService.emitIsLoggedin(!0),!0):(this.router.navigateByUrl("pages/login"),this.storageService.clearAll(),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Yb(a.a),i.Yb(n.b))},e.\u0275prov=i.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},bTjD:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("k0Py"),a=r("lJxs"),n=r("Cj51"),l=r("fXoL");let o=(()=>{class e extends n.a{constructor(){super()}getAllUsers(){let e=this.buildServiceRequest(i.a.GET_ALL_USERS,null);return this.invokeGet(e).pipe(Object(a.a)(e=>null!=e?e.data:null))}getUserById(e){let t=i.a.GET_USER.repeat(1)+"/"+e,r=this.buildServiceRequest(t);return this.invokeGet(r).pipe(Object(a.a)(e=>null!=e?e.data:null))}saveChanges(e){let t=this.buildServiceRequest(i.a.SAVE_USER,e);return this.invokePost(t).pipe(Object(a.a)(e=>null!=e?e.data:null))}deleteById(e){let t=i.a.DELETE_USER.repeat(1)+"/"+e,r=this.buildServiceRequest(t,null);return this.invokePost(r).pipe(Object(a.a)(e=>null!=e?e.data:null))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);