function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],i=!0,n=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(s){n=!0,a=s}finally{try{i||null==l.return||l.return()}finally{if(n)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{FALD:function(e,t,r){"use strict";var i,n,a=r("fXoL"),o=r("3Pt+"),l=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(t){return e.validateNumbersOnly(t)}},{key:"registerOnValidatorChange",value:function(e){return null}}],[{key:"validateNumbersOnly",value:function(e){var t=e.value;return t&&0!=t.length?new RegExp(/^[+ 0-9]/).test(t)?null:{numbersonly:"Only numbers are allowed"}:null}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.Jb({type:i,selectors:[["","appNumbersonly",""]],features:[a.Bb([{provide:o.h,useExisting:i}])]}),i),s=r("jmay"),c=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(t){return e.validateUsername(t)}},{key:"registerOnValidatorChange",value:function(e){return null}}],[{key:"validateUsername",value:function(e){var t=e.value;return t&&0!=t.length?new RegExp(/^[a-zA-Z0-9]+(?:[_]?[a-zA-Z0-9])*$/).test(t)?null:{notvaliduser:"PLease enter a valid username"}:null}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.Jb({type:n,selectors:[["","appValidUsername",""]],features:[a.Bb([{provide:o.h,useExisting:n}])]}),n),u=r("jhN1"),d=r("ofXK"),b=r("Wp6s"),f=r("kmnG"),h=r("qFsG"),m=r("bTqV");function p(e,t){if(1&e){var r=a.Vb();a.Ub(0,"button",20),a.cc("click",(function(e){return a.sc(r),a.gc(),a.qc(11).click()})),a.zc(1,"Upload"),a.Tb()}}function g(e,t){if(1&e&&a.Pb(0,"img",21),2&e){var r=a.gc();a.lc("src",r._imgSrc,a.tc)}}function v(e,t){if(1&e){var r=a.Vb();a.Ub(0,"button",22),a.cc("click",(function(e){return a.sc(r),a.gc(),a.qc(11).click()})),a.Ub(1,"span",23),a.zc(2,"edit"),a.Tb(),a.Tb()}if(2&e){var i=a.gc();a.lc("disabled",i._editProfilePic)}}function y(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," name is required. "),a.Tb())}function _(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Weight is required. "),a.Tb())}function C(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Only Numbers are allowed "),a.Tb())}function U(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Age is required. "),a.Tb())}function k(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Only Numbers are allowed "),a.Tb())}function w(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Username is required. "),a.Tb())}function T(e,t){1&e&&(a.Ub(0,"mat-error"),a.zc(1," Enter valid username "),a.Tb())}function F(e,t){if(1&e&&(a.Ub(0,"div"),a.Ub(1,"mat-form-field",10),a.Ub(2,"mat-label"),a.zc(3,"Username"),a.Tb(),a.Pb(4,"input",24),a.Tb(),a.yc(5,w,2,0,"mat-error",12),a.yc(6,T,2,0,"mat-error",12),a.Tb()),2&e){var r=a.gc();a.Cb(5),a.lc("ngIf",null==r.formControl?null:null==r.formControl.username?null:r.formControl.username.hasError("required")),a.Cb(1),a.lc("ngIf",null==r.formControl?null:null==r.formControl.username?null:r.formControl.username.hasError("notvaliduser"))}}function D(e,t){if(1&e){var r=a.Vb();a.Ub(0,"button",25),a.cc("click",(function(e){return a.sc(r),a.gc().onEdit()})),a.zc(1,"Edit"),a.Tb()}if(2&e){var i=a.gc();a.lc("disabled",i._profileForm.invalid)}}function O(e,t){if(1&e){var r=a.Vb();a.Ub(0,"button",26),a.cc("click",(function(e){return a.sc(r),a.gc().onSave()})),a.zc(1,"Save"),a.Tb()}if(2&e){var i=a.gc();a.lc("disabled",i._profileForm.invalid)}}function P(e,t){if(1&e){var r=a.Vb();a.Ub(0,"button",27),a.cc("click",(function(e){return a.sc(r),a.gc().onCancel()})),a.zc(1,"Cancel"),a.Tb()}}r.d(t,"a",(function(){return S}));var I,S=((I=function(e){function t(e,r,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).fb=e,n.domSanitzer=r,n.datePipe=i,n.mode="edit",n.dataChanged=new a.o,n.onCancelClicked=new a.o,n._editProfilePic=null,n}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.createFormGroup()}},{key:"createFormGroup",value:function(){this._profileForm=this.fb.group({name:new o.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.name)?this.personDetails.name:"",disabled:this.checkForMode()},[o.p.required,o.p.maxLength(100)]),age:new o.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.age)?this.personDetails.age:"",disabled:this.checkForMode()},[o.p.required,l.validateNumbersOnly,o.p.maxLength(3)]),weight:new o.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.weight)?this.personDetails.weight:"",disabled:this.checkForMode()},[o.p.required,l.validateNumbersOnly,o.p.maxLength(3)]),lastUpdated:new o.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.lastUpdated)?this.personDetails.lastUpdated:"",disabled:!0},[]),imgSrc:new o.d({value:this.hasValue(this.personDetails)&&this.hasValue(this.personDetails.imgSrc)?this.personDetails.imgSrc:"",disabled:!1},[])}),"add"===this.mode&&this._profileForm.addControl("username",new o.d({value:"",disabled:!1},[c.validateUsername,o.p.required]))}},{key:"updateFormGroup",value:function(){this.hasValue(this._personDetails)&&this.hasValue(this._profileForm)&&(this._profileForm.controls.name.setValue(this._personDetails.name),this._profileForm.controls.age.setValue(this._personDetails.age),this._profileForm.controls.weight.setValue(this._personDetails.weight),this._profileForm.controls.lastUpdated.setValue(this._personDetails.lastUpdated),this._imgSrc=this._personDetails.imgSrc+"",this._imgSrc&&(this._editProfilePic="disabled"))}},{key:"checkForMode",value:function(){return"readonly"===this.mode}},{key:"onFileInput",value:function(e){var t=this;if(e.target.files.length>0){var r=new FileReader,i=_slicedToArray(e.target.files,1)[0];r.readAsDataURL(i),r.onload=function(){t._imgSrc=r.result;var e=t._imgSrc.repeat(1);t._personDetails.imgSrc=e}}}},{key:"onEdit",value:function(){this.mode="edit",this.changeFieldState()}},{key:"onSave",value:function(){this.changeFieldState(),this._personDetails.name=this._profileForm.controls.name.value,this._personDetails.age=this._profileForm.controls.age.value;var e=this._profileForm.controls.weight.value;if(e!=this._personDetails.weight){var t=this.datePipe.transform(new Date,"MM/dd/yyyy"),r=new Object;r.weight=e,r.lastUpdated=t,this._profileForm.controls.lastUpdated.setValue(t),this._personDetails.weight=e,this._personDetails.lastUpdated=t;var i=this.isValidArrayWithData(this._personDetails.history)?this._personDetails.history:new Array,n=i.filter((function(e){return e.lastUpdated===t}));this.isValidArrayWithData(n)?n[0].weight=e:i.push(r)}"add"===this.mode&&(this._personDetails.username=this._profileForm.controls.username.value),this.dataChanged.emit(this._personDetails),this.mode="readonly"}},{key:"changeFieldState",value:function(){switch(this.mode){case"edit":this.enableOrDisableFormFields(!1);break;case"readonly":this.enableOrDisableFormFields(!0);break;case"add":this.enableOrDisableFormFields(!1)}}},{key:"enableOrDisableFormFields",value:function(e){e?this._profileForm.controls.name.disable():this._profileForm.controls.name.enable(),e?this._profileForm.controls.age.disable():this._profileForm.controls.age.enable(),e?this._profileForm.controls.weight.disable():this._profileForm.controls.weight.enable(),this._editProfilePic=e?"disabled":null}},{key:"onCancel",value:function(){this.onCancelClicked.emit(!0)}},{key:"personDetails",set:function(e){this._personDetails=e,this.updateFormGroup()}},{key:"formControl",get:function(){return this._profileForm.controls}}]),t}(s.a)).\u0275fac=function(e){return new(e||I)(a.Ob(o.c),a.Ob(u.b),a.Ob(d.e))},I.\u0275cmp=a.Ib({type:I,selectors:[["app-profile-form"]],inputs:{mode:"mode",personDetails:"personDetails"},outputs:{dataChanged:"dataChanged",onCancelClicked:"onCancelClicked"},features:[a.zb],decls:46,vars:13,consts:[["color","primary"],[3,"formGroup"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["type","file","single","","accept","image/jpeg, .jpeg, image/png, .png, image/jpg,.jpg",2,"display","none",3,"change"],["fileInput",""],["id","image","height","200",3,"src",4,"ngIf"],["mat-button","","color","accent","title","Edit Profile Picture",3,"disabled","click",4,"ngIf"],[1,"full-width"],["matInput","","formControlName","name","required","","aria-label","Name","maxlength","100"],[4,"ngIf"],["matInput","","formControlName","weight","required","","aria-label","Weight","maxlength","3"],["matInput","","formControlName","age","required","","aria-label","Age","maxlength","3"],["matInput","","formControlName","lastUpdated","readonly","","aria-label","Last Updated"],[1,"pull-right"],["mat-raised-button","","color","accent","id","edit-btn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","id","save-btn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","id","cancel-btn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["id","image","height","200",3,"src"],["mat-button","","color","accent","title","Edit Profile Picture",3,"disabled","click"],[1,"material-icons"],["matInput","","formControlName","username","required","","aria-label","Username","maxlength","30"],["mat-raised-button","","color","accent","id","edit-btn",3,"disabled","click"],["mat-raised-button","","color","primary","id","save-btn",3,"disabled","click"],["mat-raised-button","","color","primary","id","cancel-btn",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"mat-card"),a.Ub(1,"mat-card-header"),a.Ub(2,"mat-card-title",0),a.zc(3,"Profile"),a.Tb(),a.Tb(),a.Ub(4,"mat-card-content"),a.Ub(5,"form",1),a.Ub(6,"div",2),a.Ub(7,"div",3),a.Ub(8,"div",4),a.yc(9,p,2,0,"button",5),a.Ub(10,"input",6,7),a.cc("change",(function(e){return t.onFileInput(e)})),a.Tb(),a.yc(12,g,1,1,"img",8),a.yc(13,v,3,1,"button",9),a.Tb(),a.Ub(14,"div",4),a.Ub(15,"div"),a.Ub(16,"mat-form-field",10),a.Ub(17,"mat-label"),a.zc(18,"Name"),a.Tb(),a.Pb(19,"input",11),a.yc(20,y,2,0,"mat-error",12),a.Tb(),a.Tb(),a.Ub(21,"div"),a.Ub(22,"mat-form-field",10),a.Ub(23,"mat-label"),a.zc(24,"Weight"),a.Tb(),a.Pb(25,"input",13),a.yc(26,_,2,0,"mat-error",12),a.yc(27,C,2,0,"mat-error",12),a.Tb(),a.Tb(),a.Ub(28,"div"),a.Ub(29,"mat-form-field",10),a.Ub(30,"mat-label"),a.zc(31,"Age"),a.Tb(),a.Pb(32,"input",14),a.yc(33,U,2,0,"mat-error",12),a.yc(34,k,2,0,"mat-error",12),a.Tb(),a.Tb(),a.yc(35,F,7,2,"div",12),a.Ub(36,"div"),a.Ub(37,"mat-form-field",10),a.Ub(38,"mat-label"),a.zc(39,"Last Updated"),a.Tb(),a.Pb(40,"input",15),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(41,"mat-card-actions"),a.Ub(42,"div",16),a.yc(43,D,2,1,"button",17),a.yc(44,O,2,1,"button",18),a.yc(45,P,2,0,"button",19),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Cb(5),a.lc("formGroup",t._profileForm),a.Cb(4),a.lc("ngIf",!t._imgSrc),a.Cb(3),a.lc("ngIf",t._imgSrc),a.Cb(1),a.lc("ngIf",t._imgSrc),a.Cb(7),a.lc("ngIf",t.formControl.name.hasError("required")),a.Cb(6),a.lc("ngIf",t.formControl.weight.hasError("required")),a.Cb(1),a.lc("ngIf",t.formControl.weight.hasError("numbersonly")),a.Cb(6),a.lc("ngIf",t.formControl.age.hasError("required")),a.Cb(1),a.lc("ngIf",t.formControl.age.hasError("numbersonly")),a.Cb(1),a.lc("ngIf","add"==t.mode),a.Cb(8),a.lc("ngIf","readonly"===t.mode),a.Cb(1),a.lc("ngIf","readonly"!=t.mode),a.Cb(1),a.lc("ngIf","add"===t.mode))},directives:[b.a,b.d,b.g,b.c,o.q,o.l,o.f,d.l,f.b,f.e,h.b,o.b,o.k,o.e,o.o,o.g,b.b,m.a,f.a],styles:[".full-width[_ngcontent-%COMP%]{width:300px}.pull-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:.25em}.mat-card-actions[_ngcontent-%COMP%]{min-height:40px}"]}),I)},"Y/0F":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("fXoL"),n=r("MFIp"),a=r("tyNb"),o=function(){var e=function(){function e(t,r){_classCallCheck(this,e),this.storageService=t,this.router=r}return _createClass(e,[{key:"canActivate",value:function(){return this.storageService.isUserLoggedIn()?(this.storageService.emitIsLoggedin(!0),!0):(this.router.navigateByUrl("pages/login"),this.storageService.clearAll(),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(n.a),i.Yb(a.b))},e.\u0275prov=i.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},bTjD:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r("k0Py"),n=r("lJxs"),a=r("Cj51"),o=r("fXoL"),l=function(){var e=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"getAllUsers",value:function(){var e=this.buildServiceRequest(i.a.GET_ALL_USERS,null);return this.invokeGet(e).pipe(Object(n.a)((function(e){return null!=e?e.data:null})))}},{key:"getUserById",value:function(e){var t=i.a.GET_USER.repeat(1)+"/"+e,r=this.buildServiceRequest(t);return this.invokeGet(r).pipe(Object(n.a)((function(e){return null!=e?e.data:null})))}},{key:"saveChanges",value:function(e){var t=this.buildServiceRequest(i.a.SAVE_USER,e);return this.invokePost(t).pipe(Object(n.a)((function(e){return null!=e?e.data:null})))}},{key:"deleteById",value:function(e){var t=i.a.DELETE_USER.repeat(1)+"/"+e,r=this.buildServiceRequest(t,null);return this.invokePost(r).pipe(Object(n.a)((function(e){return null!=e?e.data:null})))}}]),t}(a.a);return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);